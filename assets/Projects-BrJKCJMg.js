import{c as y,j as e,b as g,u as E,r as n,m,A as v,L as j,X as A,G as w,d as S}from"./index-CUt0JTLj.js";import{E as P}from"./external-link-BQbuOQKd.js";const C=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],b=y("folder",C);const $=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],L=y("tag",$),M=t=>/^https?:\/\//i.test(t),F=t=>!t||M(t)||!/\.(jpe?g|png)$/i.test(t)?null:t.replace(/\.(jpe?g|png)$/i,".webp");function N({src:t,alt:a,width:r,height:c,className:d,wrapperClassName:u="block w-full h-full",loading:i="lazy",decoding:x="async",fetchPriority:s,sizes:o="(min-width: 1024px) 33vw, (min-width: 768px) 50vw, 100vw",style:f}){if(!t)return null;const h=F(t),l=h&&/\.jpe?g$/i.test(t)?h.replace(/\.webp$/i,"-640.webp"):null;return e.jsxs("picture",{className:u,children:[h?e.jsx("source",{srcSet:l?`${g(l)} 640w, ${g(h)} 1024w`:g(h),type:"image/webp",sizes:o}):null,e.jsx("img",{src:g(t),alt:a,width:r,height:c,loading:i,decoding:x,fetchPriority:s,className:d,style:f})]})}const R={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},p={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};function _({project:t,onSelect:a}){const r=t.githubUrl||t.repo,c=!!r,d=t.lottie&&typeof t.lottie=="object"?t.lottie:null,u=t.lottie&&typeof t.lottie=="string"?t.lottie:null;return e.jsxs(m.div,{variants:p,layoutId:`project-${t.slug}`,onClick:()=>a(t),className:"card rounded-2xl overflow-hidden cursor-pointer group",children:[e.jsxs("div",{className:"aspect-video surface relative overflow-hidden",children:[d||u?e.jsx(j,{data:d,src:u,className:"w-full h-full",fallback:e.jsx("div",{className:"w-full h-full surface"}),loop:!0,autoplay:!0}):t.image?e.jsx(N,{src:t.image,alt:t.title,width:1280,height:720,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(b,{size:48,className:"text-muted"})}),e.jsx("div",{className:"absolute inset-0 media-overlay opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-6",children:e.jsxs("span",{className:"overlay-text font-medium flex items-center gap-2",children:["View Details ",e.jsx(S,{size:16})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:opacity-80 transition-opacity",children:t.title}),e.jsx("p",{className:"text-sm text-muted mb-4 line-clamp-2",children:t.blurb}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.slice(0,3).map(i=>e.jsx("span",{className:"tag text-xs px-2 py-1 rounded-full",children:i},i))}),e.jsx("div",{className:"mt-4",children:e.jsxs("a",{href:r||"#",target:"_blank",rel:"noopener noreferrer",onClick:i=>{i.stopPropagation(),c||i.preventDefault()},"aria-disabled":!c,className:`btn-ghost-sm px-3 py-2 rounded-lg text-xs font-medium inline-flex items-center gap-2${c?"":" opacity-50 cursor-not-allowed"}`,children:[e.jsx(w,{size:14}),"GitHub"]})})]})]})}const I=n.memo(_);function V({project:t,onClose:a}){const r=n.useRef(null),c=n.useRef(null),d=`project-title-${t.slug}`,u=t.githubUrl||t.repo,i=t.lottie&&typeof t.lottie=="object"?t.lottie:null,x=t.lottie&&typeof t.lottie=="string"?t.lottie:null;return n.useEffect(()=>{const s=o=>{o.key==="Escape"&&a()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[a]),n.useEffect(()=>{const s=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=s}},[]),n.useEffect(()=>{c.current=document.activeElement;const s=requestAnimationFrame(()=>{r.current?.focus()});return()=>{cancelAnimationFrame(s);const o=c.current;o&&typeof o.focus=="function"&&o.focus()}},[]),e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,role:"dialog","aria-modal":"true","aria-labelledby":d,className:"fixed inset-0 z-50 flex items-center justify-center p-6 modal-overlay",children:e.jsxs(m.div,{layoutId:`project-${t.slug}`,onClick:s=>s.stopPropagation(),className:"card max-w-4xl w-full max-h-[90vh] overflow-y-auto rounded-2xl",children:[e.jsxs("div",{className:"aspect-video surface relative",children:[i||x?e.jsx(j,{data:i,src:x,className:"w-full h-full",fallback:e.jsx("div",{className:"w-full h-full surface"}),loop:!0,autoplay:!0}):t.image?e.jsx(N,{src:t.image,alt:t.title,width:1280,height:720,sizes:"(min-width: 1024px) 80vw, 100vw",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(b,{size:64,className:"text-muted"})}),e.jsx("button",{ref:r,type:"button",onClick:a,className:"absolute top-4 right-4 p-2 rounded-full btn-ghost overlay-button transition-colors","aria-label":"Close project details",children:e.jsx(A,{size:24})})]}),e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{id:d,className:"text-3xl font-bold mb-4 text-accent neon-text",children:t.title}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.tags.map(s=>e.jsxs("span",{className:"tag text-sm px-3 py-1 rounded-full flex items-center gap-1",children:[e.jsx(L,{size:12}),s]},s))}),e.jsx("p",{className:"text-lg text-muted mb-8",children:t.blurb}),t.highlights&&t.highlights.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Key Highlights"}),e.jsx("ul",{className:"space-y-3",children:t.highlights.map((s,o)=>e.jsxs("li",{className:"flex items-start gap-3 text-muted",children:[e.jsx("span",{className:"w-2 h-2 mt-2 rounded-full accent-dot flex-shrink-0"}),s]},o))})]}),t.tech&&t.tech.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Technologies"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tech.map(s=>e.jsx("span",{className:"badge-tonal text-sm px-3 py-1.5 rounded-lg",children:s},s))})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[u&&e.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"btn-ghost px-6 py-3 rounded-xl font-medium flex items-center gap-2",children:[e.jsx(w,{size:18}),"View Repository"]}),t.demo&&e.jsxs("a",{href:t.demo,target:"_blank",rel:"noopener noreferrer",className:"btn-primary px-6 py-3 rounded-xl font-medium flex items-center gap-2",children:[e.jsx(P,{size:18}),"Live Demo"]})]})]})]})})}function G(){const{content:t}=E(),a=t.projects||[],[r,c]=n.useState("All"),[d,u]=n.useState(null),[i,x]=n.useState(!1),s=n.useCallback(l=>{u(l)},[]),o=n.useMemo(()=>{const l=new Set;return a.forEach(k=>k.tags?.forEach(z=>l.add(z))),["All",...Array.from(l)]},[a]),f=n.useMemo(()=>r==="All"?a:a.filter(l=>l.tags?.includes(r)),[a,r]);n.useEffect(()=>{x(!1)},[r]);const h=n.useMemo(()=>i?f:f.slice(0,6),[f,i]);return e.jsxs("section",{id:"projects",className:"py-24 px-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 right-0 w-96 h-96 accent-blob rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 left-0 w-64 h-64 accent-blob rounded-full blur-3xl"}),e.jsxs(m.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},variants:R,className:"max-w-6xl mx-auto relative z-10",children:[e.jsxs(m.div,{variants:p,className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 pill px-4 py-2 rounded-full mb-6 text-muted",children:[e.jsx(b,{size:16,className:"text-accent"}),e.jsx("span",{className:"text-sm font-medium",children:"Portfolio"})]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:e.jsx("span",{className:"text-accent neon-text",children:"Featured Projects"})}),e.jsx("p",{className:"text-lg text-muted max-w-2xl mx-auto",children:"A showcase of our best work and creative endeavors"})]}),e.jsx(m.div,{variants:p,className:"flex flex-wrap justify-center gap-3 mb-12",children:o.map(l=>e.jsx("button",{onClick:()=>c(l),className:`chip px-4 py-2 rounded-full text-sm font-medium transition-all ${r===l?"chip-active":""}`,children:l},l))}),e.jsx(m.div,{layout:!0,className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(v,{mode:"popLayout",children:h.map(l=>e.jsx(I,{project:l,onSelect:s},l.slug))})}),f.length>6&&e.jsx(m.div,{variants:p,className:"flex justify-center mt-10",children:e.jsx("button",{type:"button",onClick:()=>x(l=>!l),className:"btn-ghost px-6 py-3 rounded-xl font-medium",children:i?"Show Less":"Show More"})}),f.length===0&&e.jsxs(m.div,{variants:p,className:"text-center py-16",children:[e.jsx(b,{size:48,className:"mx-auto text-muted mb-4"}),e.jsx("p",{className:"text-muted",children:"No projects found for this filter"})]})]}),e.jsx(v,{children:d&&e.jsx(V,{project:d,onClose:()=>u(null)})})]})}export{G as default};
