import{u as T,a as W,r as w,j as e,m as f}from"./index-CUt0JTLj.js";const y=360,z=52,E=22,j=5,F={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},O={hidden:{opacity:0,y:6},visible:{opacity:1,y:0,transition:{duration:.35,ease:"easeOut"}}},S=t=>{const l=Number(t);return Number.isFinite(l)?Math.min(j,Math.max(1,Math.round(l))):3},C=t=>String(t||"").trim().split(/\s+/).filter(Boolean).slice(0,2).join(" "),G=t=>String(t).trim().replace(/\s+/g," "),X=t=>typeof t=="string"?C(t):t&&typeof t.name=="string"?C(t.name):"",Z=(t,l)=>{if(Number.isFinite(Number(t?.score)))return S(t.score);const n=l.map(r=>Number(r?.level)).filter(r=>Number.isFinite(r));if(n.length){const r=n.reduce((h,v)=>h+v,0)/n.length;return S(r)}return 3},Y=(t,l)=>{const n=Array.isArray(t?.skills)?t.skills:[],r=n.map(X).filter(Boolean),h=Number.isFinite(Number(t?.order))?Number(t.order):l+1;return{id:t?.id?String(t.id):`category-${l}`,label:G(t?.label||"Category"),score:Z(t,n),order:h,skills:r}};function q({categories:t,activeIndex:l,setActiveIndex:n,reduceMotion:r}){const[h,v]=w.useState(!1),x=w.useMemo(()=>{if(!t.length)return null;const s=y/2,a=s-z,o=2*Math.PI/t.length,i=t.map((d,p)=>{const m=p*o-Math.PI/2,$=S(d.score),b=$/j*a,g=s+b*Math.cos(m),M=s+b*Math.sin(m),k=s+(a+E)*Math.cos(m),D=s+(a+E)*Math.sin(m),H=Math.cos(m)>.25?"start":Math.cos(m)<-.25?"end":"middle";return{x:g,y:M,labelX:k,labelY:D,angle:m,anchor:H,label:d.label,score:$}}),V=Array.from({length:j},(d,p)=>p+1).map(d=>{const p=d/j*a;return`${t.map(($,b)=>{const g=b*o-Math.PI/2,M=s+p*Math.cos(g),k=s+p*Math.sin(g);return`${b===0?"M":"L"} ${M} ${k}`}).join(" ")} Z`}),_=i.map((d,p)=>`${p===0?"M":"L"} ${d.x} ${d.y}`).join(" ")+" Z";return{center:s,radius:a,angleStep:o,points:i,gridPaths:V,dataPath:_}},[t]);if(!x)return null;const{center:c,radius:P,angleStep:A,points:N,gridPaths:L,dataPath:B}=x,u=Number.isFinite(l)?N[l]:null,R=u?u.anchor==="start"?"translate(-80%, -140%)":u.anchor==="end"?"translate(-20%, -140%)":"translate(-50%, -140%)":"translate(-50%, -140%)";return e.jsxs("div",{className:"relative w-full max-w-[520px] mx-auto aspect-square",children:[e.jsxs(f.svg,{initial:r?!1:{opacity:0,scale:.92},whileInView:r?{opacity:1,scale:1}:{opacity:1,scale:1},viewport:{once:!0,margin:"-120px"},transition:r?{duration:0}:{duration:.9,ease:"easeOut"},viewBox:`0 0 ${y} ${y}`,className:"w-full h-full overflow-visible",role:"img","aria-label":"Radar chart of skills overview",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"radarFill",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"var(--acc-to)",stopOpacity:"0.22"}),e.jsx("stop",{offset:"100%",stopColor:"var(--acc-from)",stopOpacity:"0.08"})]}),e.jsxs("linearGradient",{id:"radarStroke",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"var(--acc-to)"}),e.jsx("stop",{offset:"100%",stopColor:"var(--acc-from)"})]})]}),e.jsxs(f.g,{initial:r?!1:{opacity:0},whileInView:r?{opacity:1}:{opacity:1},transition:r?{duration:0}:{duration:.6,ease:"easeOut"},children:[L.map((s,a)=>e.jsx("path",{d:s,fill:"none",stroke:"var(--border)",strokeWidth:"1",strokeDasharray:"6 6",opacity:a===L.length-1?.65:.45,vectorEffect:"non-scaling-stroke"},`grid-${a}`)),t.map((s,a)=>{const o=a*A-Math.PI/2,i=l===a;return e.jsx("line",{x1:c,y1:c,x2:c+P*Math.cos(o),y2:c+P*Math.sin(o),stroke:i?"var(--acc-to)":"var(--border)",strokeWidth:i?1.6:1,opacity:i?.9:.6,vectorEffect:"non-scaling-stroke"},`axis-${s.id}`)})]}),e.jsx(f.path,{initial:r?!1:{opacity:0,scale:.2},whileInView:r?{opacity:1,scale:1}:{opacity:1,scale:1},viewport:{once:!0,margin:"-120px"},transition:r?{duration:0}:{duration:.9,ease:"easeOut"},d:B,fill:"url(#radarFill)",stroke:"url(#radarStroke)",strokeWidth:"2",onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),style:{transformOrigin:"50% 50%",transformBox:"fill-box",filter:h||u?"drop-shadow(0 0 18px rgb(var(--secondary-rgb) / 0.55))":"drop-shadow(0 0 10px rgb(var(--secondary-rgb) / 0.35))",transition:"filter 220ms ease"}}),N.map((s,a)=>{const o=t[a],i=l===a;return e.jsx("circle",{cx:s.x,cy:s.y,r:i?5:4,fill:i?"var(--acc-to)":"var(--acc-from)",stroke:"var(--surface)",strokeWidth:"1",onMouseEnter:()=>n(a),onMouseLeave:()=>n(null),onFocus:()=>n(a),onBlur:()=>n(null),tabIndex:"0",role:"button","aria-label":`${o.label} level ${s.score}`,style:{cursor:"pointer"}},`point-${o.id}`)}),e.jsx(f.g,{variants:F,initial:r?"visible":"hidden",whileInView:"visible",viewport:{once:!0,margin:"-120px"},children:N.map((s,a)=>{const o=t[a],i=l===a;return e.jsx(f.text,{variants:O,x:s.labelX,y:s.labelY,textAnchor:s.anchor,dominantBaseline:"middle",fill:i?"var(--acc-to)":"var(--muted)",fontSize:"11",onMouseEnter:()=>n(a),onMouseLeave:()=>n(null),onFocus:()=>n(a),onBlur:()=>n(null),tabIndex:"0",role:"button","aria-label":`${o.label} level ${s.score}`,style:{cursor:"pointer"},children:s.label},`label-${o.id}`)})})]}),u&&t[l]&&e.jsxs("div",{className:"pointer-events-none absolute flex flex-col items-center gap-1 text-[11px]",style:{left:`${u.x/y*100}%`,top:`${u.y/y*100}%`,transform:R},children:[e.jsx("span",{className:"text-[11px] font-semibold text-accent",children:u.label}),e.jsx("div",{className:"flex flex-wrap justify-center gap-1",children:t[l].skills.slice(0,5).map((s,a)=>e.jsx("span",{className:"chip px-2 py-0.5 rounded-full text-[10px]",children:C(s)},`tooltip-${t[l].id}-${a}`))})]})]})}function K(){const{skills:t}=T(),l=W(),n=w.useMemo(()=>(Array.isArray(t)?t:[]).map((x,c)=>Y(x,c)).sort((x,c)=>(x.order||0)-(c.order||0)),[t]),[r,h]=w.useState(null);return n.length?e.jsxs("section",{id:"skills",className:"py-24 px-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 accent-blob rounded-full blur-3xl"}),e.jsxs(f.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},variants:F,className:"max-w-6xl mx-auto relative z-10",children:[e.jsxs(f.div,{variants:O,className:"text-center mb-10",children:[e.jsx("div",{className:"inline-flex items-center gap-2 pill px-4 py-2 rounded-full mb-5 text-muted",children:e.jsx("span",{className:"text-sm font-medium",children:"Overview"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold",children:e.jsx("span",{className:"text-accent neon-text",children:"Skill Overview"})})]}),e.jsx("div",{className:"relative flex justify-center overflow-visible",children:e.jsx(q,{categories:n,activeIndex:r,setActiveIndex:h,reduceMotion:l})})]})]}):null}export{K as default};
